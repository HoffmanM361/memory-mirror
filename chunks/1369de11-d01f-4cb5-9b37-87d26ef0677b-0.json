{
  "id": "1369de11-d01f-4cb5-9b37-87d26ef0677b",
  "chunk_ix": 0,
  "created_at": "2025-08-10T15:54:37",
  "source": "web",
  "tags": [
    "memory",
    "system"
  ],
  "content": "TITLE: AI Persistent Memory: Chunking and Metadata Specification\n\nAI Persistent Memory: Chunking and Metadata Specification\r\nThis document defines the exact chunking and metadata specification for storing\r\nconversation or document data in the persistent memory system. This ensures all stored\r\ndata is AI-friendly and supports fast, accurate retrieval.\r\n1. Chunking Rules\r\n1.1 Maximum Chunk Size: 1,000–1,200 characters (including spaces). This size is small\r\nenough for AI models to process without truncation, while large enough to preserve\r\ncontext.\r\n1.2 Natural Breaks: Always split at paragraph or sentence boundaries where possible. Avoid\r\nbreaking mid-sentence.\r\n1.3 Overlap: Include a 10–15 word overlap between consecutive chunks to preserve\r\ncontinuity.\r\n1.4 Tagging Within Chunks: Tag each chunk with conversation ID, date/time, topic, and\r\nsequence number.\r\n2. Metadata Specification\r\nEach chunk must have a metadata object stored alongside the text in JSON format. This\r\nmetadata supports filtering, search maps, and relevance scoring.\r\nExample metadata structure:\r\n{\r\n&quot;conversation_id&quot;: &quot;uuid&quot;,\r\n&quot;source&quot;: &quot;chatgpt&quot;,\r\n&quot;date&quot;: &quot;2025-08-10T14:32:00Z&quot;,\r\n&quot;topic&quot;: &quot;rain_garden_marketing_plan&quot;,\r\n&quot;sequence&quot;: 3,\r\n&quot;chunk_text&quot;: &quot;Actual chunk content here...&quot;\r\n}\r\n3. Processing Flow\r\nStep 1 – Ingest:\r\n- Accept raw document or conversation transcript.\r\n- Assign a unique conversation ID.\r\nStep 2 – Chunk:\r\n- Apply the chunking rules above.\r\n- Generate sequence numbers starting at 1.\r\nStep 3 – Metadata Attach:\r\n\r\n- Generate metadata JSON for each chunk.\r\n- Save chunk and metadata together.\r\nStep 4 – Store:\r\n- Save JSON objects to the shard storage structure:\r\n/catalog/shards/by_tag/[topic].json\r\n- Update search map with chunk references.\r\n4. Example Chunk Output\r\n{\r\n&quot;conversation_id&quot;: &quot;53ee4294-44a2-414e-baf7-d4b49e158dbb&quot;,\r\n&quot;source&quot;: &quot;chatgp"
}